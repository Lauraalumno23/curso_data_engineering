version: 2

models:
  - name: stg_sql_server_dbo__addresses
    description: "Datos de todas las direcciones"
    columns:
          - name: address_id
            description: >
                UUID para cada direccion unica en la base de datos.
            tests:
                - not_null
                - unique
            data_type: text
            constraints:
              - type: not_null
          - name: zipcode
            description: >
                Codigo postal.
            tests:
              - not_null
              - positive_values
            data_type: number
            constraints:
              - type: not_null
          - name: country
            description: >
                Pais.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: address
            description: >
                Direccion de envio.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: state_id
            description: >
                Clave forÃ¡nea de cada estado
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__state')
                  field: state_id
            data_type: text
            constraints:
              - type: not_null
          - name: state
            description: >
                Estado.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: _fivetran_deleted
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _fivetran_synced
            description: >
                Fecha en la que los datos fueron cargados.
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__events
    description: "Datos de todos los eventos"
    columns:
          - name: EVENT_ID
            description: >
                UUID para cada evento unico en la base de datos.
            tests:
                - not_null
                - unique
            data_type: text
            constraints:
              - type: not_null
          - name: PAGE_URL
            description: >
                Direccion web.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: EVENT_TYPE_ID
            description: >
                UUID para cada tipo de evento unico en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__events_type')
                  field: event_type_id
            data_type: text
            constraints:
              - type: not_null
          - name: EVENT_TYPE
            description: >
                Tipo de evento.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: USER_ID
            description: >
                UUID para cada usuario unico en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__users')
                  field: user_id
            data_type: text
            constraints:
              - type: not_null
          - name: PRODUCT_ID_HASH
            description: >
                UUID para cada producto unico en la base de datos.
            data_type: text
            constraints:
              - type: not_null
          - name: SESSION_ID
            description: >
                UUID para cada sesion unica en la base de datos.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: CREATED_AT
            description: >
                Cuando se creo el pedido.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
          - name: order_id_hash
            description: >
                UUID para cada pedido unico en la base de datos.
            data_type: text
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED_UTC
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__orders
    description: "Datos crudos de la tabla stg_sql_server_dbo__orders"
    columns:
          - name: ORDER_ID
            description: >
                UUID para cada pedido unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: SHIPPING_SERVICE
            description: >
                Empresa de mesajeria.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: SHIPPING_SERVICE_ID
            description: >
                UUID para cada servicio de mensajeria unica en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__shipping_service')
                  field: shipping_service_id
            data_type: text
            constraints:
              - type: not_null
          - name: SHIPPING_COST_EUROS
            description: >
                  Coste del envio.
            tests:
              - not_null
              - positive_values
            data_type: float
            constraints:
              - type: not_null
          - name: ADDRESS_ID
            description: >
                UUID para cada direccion unica en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__addresses')
                  field: address_id
            data_type: text
            constraints:
              - type: not_null
          - name: CREATED_AT_UTC
            description: >
                Cuando se cero el pedido.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
          - name: PROMO_ID
            description: >
                UUID para cada promocion unica en la base de datos.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: ESTIMATED_DELIVERY_AT_UTC
            description: >
                Entrega estimada.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
          - name: ORDER_COST_EUROS
            description: >
                Coste del pedido.
            tests:
              - not_null
              - positive_values
            data_type: float
            constraints:
              - type: not_null
          - name: USER_ID
            description: >
                UUID para cada usuario unico en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__users')
                  field: user_id
            data_type: text
            constraints:
              - type: not_null
          - name: ORDER_TOTAL_EUROS
            description: >
                Total de pedidos.
            tests:
              - not_null
              - positive_values
            data_type: float
            constraints:
              - type: not_null
          - name: DELIVERED_AT_UTC
            description: >
                Entrega.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
          - name: TRACKING_ID
            description: >
                UUID para cada seguimiento del pedido unico en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__tracking')
                  field: tracking_id
            data_type: text
            constraints:
              - type: not_null
          - name: STATUS
            description: >
                Estado del pedido.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: STATUS_ID
            description: >
                UUID para cada estado del pedido unico en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__status_orders')
                  field: status_id
            data_type: text
            constraints:
              - type: not_null
          - name: STATUS_TIPO
            description: >
                Estado del pedido.
            tests:
              - not_null
            data_type: number
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
              
  - name: stg_sql_server_dbo__order_items
    description: "Datos crudos de la tabla stg_sql_server_dbo__order_items"
    columns:
          - name: ORDER_ITEMS_ID
            description: >
                UUID para cada orden con un producto especifico unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: ORDER_ID
            description: >
                UUID para cada pedido unico en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref('stg_sql_server_dbo__orders')
                  field: order_id  
            data_type: text
            constraints:
              - type: not_null
          - name: PRODUCT_ID
            description: >
                UUID para cada producto unico en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref('stg_sql_server_dbo__products')
                  field: product_id  
            data_type: text
            constraints:
              - type: not_null
          - name: QUANTITY
            description: >
              Numero de unidades para cada producto y cada mes para productos.
            tests:
              - not_null
              - positive_values
            data_type: number
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED_UTC
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__products
    description: "Datos crudos de la tabla stg_sql_server_dbo__products"
    columns:
          - name: PRODUCT_ID
            description: >
                UUID para cada producto unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: PRICE_EURO
            description: >
                Precio.
            data_type: float
            constraints:
              - type: not_null
          - name: NAME
            description: >
                Nombre del producto.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: INVENTORY
            description: >
                Cantidad de producto en el inventario.
            tests:
              - not_null
              - positive_values
            data_type: number
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED
            description: >
                Fecha en la que los datos fueron cargados.
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__promos
    description: "Datos crudos de la tabla stg_sql_server_dbo__promos"
    columns:
          - name: promo_id_hash
            description: >
                UUID para cada promocion unica en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: PROMO_NAME
            description: >
                Nombre de la promocion.
            tests:
              - not_null 
            data_type: text
            constraints:
              - type: not_null
          - name: DISCOUNT_EUROS
            description: >
                Descuento.
            data_type: number
            constraints:
              - type: not_null
          - name: STATUS_ID
            description: >
                UUID para cada estado de la promocion unica en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref('stg_sql_server_dbo__status_promos')
                  field: status_id  
            data_type: text
            constraints:
              - type: not_null
          - name: STATUS
            description: >
                Estado de la promocion .
            data_type: text
            constraints:
              - type: not_null
          - name: status_modo
            description: >
                Estado en el que se encuentra la promocion .
            data_type: number
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED
            description: >
                Fecha en la que los datos fueron cargados.
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__user
    description: "Datos crudos de la tabla stg_sql_server_dbo__user"
    columns:
          - name: USER_ID
            description: >
                UUID para cada usuario unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: UPDATED_AT_UTC
            description: >
                Actualizacion del usuario.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
          - name: ADDRESS_ID
            description: >
                UUID para cada direccion del usuario unica en la base de datos.
            tests:
              - not_null
              - relationships:
                  to: ref ('stg_sql_server_dbo__addresses')
                  field: address_id
            data_type: text
            constraints:
              - type: not_null
          - name: LAST_NAME
            description: >
                Apellido.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: CREATED_AT_UTC
            description: >
                Creacion del usuario.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
          - name: PHONE_NUMBER
            description: >
                Numero de telefono.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: TOTAL_ORDERS
            description: >
                Total de pedidos.
            tests:
              - not_null
              - positive_values
            data_type: number
            constraints:
              - type: not_null
          - name: FIRST_NAME
            description: >
                Nombre.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: EMAIL
            description: >
                Correo electronico.
            tests:
              - not_null
            data_type: text
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__state
    description: "Datos de la tabla stg_sql_server_dbo__state"
    columns:
          - name: STATE_ID
            description: >
                UUID para cada estado unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: STATE
            description: >
                Nombre del estado.
            tests:
              - not_null 
            data_type: text
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED_UTC
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__events_type
    description: "Datos de la tabla stg_sql_server_dbo__event_type"
    columns:
          - name: EVENT_TYPE_ID
            description: >
                UUID para cada tipo de evento unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: EVENT_TYPE
            description: >
                Tipo de evento.
            tests:
              - not_null 
            data_type: text
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED_UTC
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null
  - name: stg_sql_server_dbo__status_orders
    description: "Datos de la tabla stg_sql_server_dbo__status_orders"
    columns:
          - name: STATUS_ID
            description: >
                UUID para cada estado del pedido unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: STATUS
            description: >
                Nombre del estado del producto.
            tests:
              - not_null 
            data_type: text
            constraints:
              - type: not_null
          - name: STATUS_TIPO
            description: >
                Tipo del estado del producto.
            tests:
              - not_null 
            data_type: number
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED_UTC
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__shipping_service
    description: "Datos de la tabla stg_sql_server_dbo__shipping_service"
    columns:
          - name: shipping_service_id
            description: >
                UUID para cada empresa de mensajeria unico en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: shipping_service
            description: >
                Nombre de la empresa de mensajeria.
            tests:
              - not_null 
            data_type: text
            constraints:
              - type: not_null

  - name: stg_sql_server_dbo__status_promos
    description: "Datos de la tabla stg_sql_server_dbo__status_promos"
    columns:
          - name: status_id
            description: >
                UUID para cada estado de la promocion unica en la base de datos.
            tests:
              - not_null
              - unique
            data_type: text
            constraints:
              - type: not_null
          - name: status
            description: >
                Nombre del estado de la promocion.
            tests:
              - not_null 
            data_type: text
            constraints:
              - type: not_null
          - name: status_modo
            description: >
                Estado de la promocion.
            tests:
              - not_null 
            data_type: number
            constraints:
              - type: not_null
          - name: _FIVETRAN_DELETED
            description: >
                Muestra si los datos fueron eliminados.
            data_type: boolean
            constraints:
              - type: not_null
          - name: _FIVETRAN_SYNCED_UTC
            description: >
                Fecha en la que los datos fueron cargados.
            tests:
              - not_null
            data_type: timestamp_tz
            constraints:
              - type: not_null     